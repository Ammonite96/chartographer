### В тестовом использовалиcь следующие технологии:
1. Java 11
2. SpringBoot 2
3. [OpenCV 4](https://ru.wikipedia.org/wiki/OpenCV).
# Chartographer

От **charta** (*лат.*) или **харта** — одно из названий [папируса](https://ru.wikipedia.org/wiki/Папирус).

**Chartographer** — сервис для восстановления изображений древних свитков и папирусов.
Изображения растровые и создаются поэтапно (отдельными фрагментами).
Восстановленное изображение можно получать фрагментами (даже если оно лишь частично восстановленное).

Предполагается, что этим сервисом будет одновременно пользоваться множество учёных.
## HTTP API

В сервисе реализовано 4 HTTP-метода:

```
POST /chartas/?width={width}&height={height}
```
Создаёт новое изображение папируса заданного размера (в пикселях),
где `{width}` и `{height}` — положительные целые числа, не превосходящие `20 000` и `50 000`, соответственно.
Тело запроса пустое.  
В теле ответа возвращается `{id}` — уникальный идентификатор изображения в строковом представлении.  
Код ответа: `201 Created`.

```
POST /chartas/{id}/?x={x}&y={y}&width={width}&height={height}
```
Сохраняет восстановленный фрагмент изображения размера `{width} x {height}` с координатами `({x};{y})`.
Под координатами подразумевается положение левого верхнего угла фрагмента относительно левого верхнего угла всего изображения.
Другими словами, левый верхний угол изображения является началом координат, т.е. эта точка имеет координаты `(0;0)`.  
Минимальные координаты `(0;0)`
Тело запроса: изображение в формате `BMP` (цвет в RGB, 24 бита на 1 пиксель).  
Тело ответа пустое.  
Код ответа: `200 OK`.

```
GET /chartas/{id}/?x={x}&y={y}&width={width}&height={height}
```
Получает восстановленную часть изображения размера `{width} x {height}` с координатами `({x};{y})`,
где `{width}` и `{height}` — положительные целые числа, не превосходящие 5 000.
Под координатами подразумевается положение левого верхнего угла фрагмента относительно левого верхнего угла всего изображения.
Другими словами, левый верхний угол изображения является началом координат, т.е. эта точка имеет координаты `(0;0)`.  
Тело ответа: изображение в формате `BMP` (цвет в RGB, 24 бита на 1 пиксель).  
Код ответа: `200 OK`.

```
DELETE /chartas/{id}/
```
Удаляет изображение с идентификатором `{id}`.  
Тело запроса и ответа пустое.  
Код ответа: `200 OK`.

### Обработка ошибок

1. Запросы по `{id}` изображения, которого не существует, завершаются с кодом ответа `404 Not Found`.
2. Запросы с некорректными параметрами `{width}` или `{height}` завершаются с кодом ответа `400 Bad Request`.
3. Запросы с фрагментами, которые не пересекаются по координатам с изображением, завершаются с кодом ответа `400 Bad Request`.
При этом фрагменты могут *частично* находиться вне границ изображения (см. примечания) — такие запросы считаются корректными.

### Примечания

1. Размер изображений не превосходит `20 000 x 50 000`, минимальный размер изображения `1 * 1`
2. Размер фрагментов не превосходит `5 000 x 5 000`, минимальный размер фрагмента `1 * 1`
3. Формат изображений — [BMP](https://ru.wikipedia.org/wiki/BMP). Цветность в RGB (без альфа-канала), 24 бита на пиксель.
4. Если загружаемый восстановленный фрагмент перекрывает восстановленную ранее часть, то в любом случае применяется новый фрагмент.
5. Если запрашивается фрагмент, часть которого ещё не восстановлена, то не восстановленные области закрашиваются чёрным цветом.
Аналогично, чёрным цветом закрашивается та часть фрагмента, которая оказывается вне границ изображения (см. пример ниже).
6. Компиляция кода и его исполнение c использованием Java 11.
7. Сборка сервиса при помощи Apache Maven командой `mvn package`.
8. Запуск сервиса осуществляется командой `java -jar chartographer-1.0.0.jar /path/to/content/folder` в каталоге `target` проекта,
где `/path/to/content/folder` – путь до каталога, в котором сервис может хранить данные.
